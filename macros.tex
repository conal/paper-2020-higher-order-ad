\newcommand\nc\newcommand
\nc\rnc\renewcommand

%% https://www.conference-publishing.com/Help.php
\usepackage[utf8]{inputenc} 
\usepackage[T1]{fontenc}
\usepackage{microtype}

\usepackage{amsmath}
\usepackage{latexsym}
\usepackage{amssymb}
\usepackage{color}

\usepackage{scalerel}
\usepackage{setspace}

\usepackage{epsfig}
\usepackage{latexsym}

\nc\out[1]{}

%% To redefine for a non-draft
\nc\indraft[1]{#1}

% While working, use these defs
% \nc\note[1]{{\em [#1]}}
\nc\note[1]{\indraft{\textcolor{red}{[#1]}}}

\nc\notefoot[1]{\indraft{\footnote{\note{#1}}}}

\nc\todo{\note{To do.}}

%% Provides its own initial space.
\nc\needcite{\indraft{ \note{ref}}}

\nc\seclabel[1]{\label{sec:#1}}
\nc\secref[1]{\autoref{sec:#1}}
\nc\secreftwo[2]{\autoref{sec:#1} and \autoref{sec:#2}}

\nc\sectionl[1]{\section{#1}\seclabel{#1}}
\nc\subsectionl[1]{\subsection{#1}\seclabel{#1}}

\def\sectionautorefname{Section}
\def\subsectionautorefname{Section}

%%%% Figures

\usepackage{subcaption}

%% %% TODO: convert to autoref
%% \nc\figlabel[1]{\label{fig:#1}}
%% \nc\figref[1]{Figure \ref{fig:#1}}
%% \nc\figreftwo[2]{Figures \ref{fig:#1} and \ref{fig:#2}}
%% \nc\figrefthree[3]{Figures \ref{fig:#1}, \ref{fig:#2}, and \ref{fig:#3}}

\nc\incpic[1]{\includegraphics[width=\linewidth]{Figures/#1}}

\nc\figp[2]{\begin{figure}\centering #1 \hspace{-2ex} #2\end{figure}}

%% \figone{fraction}{label}{caption}{content}
\nc\figoneW[3]{
{% \fbox
\begin{minipage}{#1\linewidth}
  \centering
  \setlength\mathindent{0ex}
  \incpic{#2}
  \vspace*{-4ex}
  \captionof{figure}{#3}
  \figlabel{#2}
\end{minipage}
}
}
\nc\figone{\figoneW{0.48}}

\nc\workingHere{
\vspace{1ex}
\begin{center}
\setlength{\fboxsep}{3ex}
\setlength{\fboxrule}{4pt}
\huge\textcolor{red}{\framebox{Working here}}
\end{center}
\vspace{1ex}
}

%% \usepackage[multiple]{footmisc}  %% Incompatible with hyperref

\nc\notefootsep{\indraft{\textsuperscript{,}}}

%% https://tex.stackexchange.com/questions/40072/incompatibility-between-footmisc-option-multiple-and-hyperref/62091#62091
\let\oldFootnote\footnote
\nc\nextToken\relax
\rnc\footnote[1]{\oldFootnote{#1}\futurelet\nextToken\isFootnote}
\nc\isFootnote{\ifx\footnote\nextToken\notefootsep{}\fi}

% \nc\qed{\ensuremath{\blacksquare}}
%% \nc\qed{\ensuremath{\square}}

\usepackage{amsthm}
%% Drop vertical spacing before & after.
%% \theoremstyle{remark}

\nc\propLabel[1]{\label{prop:#1}}
%% \nc\propRef[1]{\autoref{prop:#1}}
%% \nc\propRefTwo[2]{\autoref{prop:#1} and \autoref{prop:#2}}

\newtheorem{theorem}{Theorem}%[section]
\nc\thmLabel[1]{\label{thm:#1}}
\nc\thmRef[1]{\autoref{thm:#1}}
\nc\thmRefTwo[2]{Theorems \ref{thm:#1} and \ref{thm:#2}}

\newtheorem{corollary}{Corollary}[theorem]
\nc\corLabel[1]{\label{cor:#1}}
%% \def\corollaryautorefname{Corollary}
\nc\corRef[1]{Corollary \ref{cor:#1}}
\nc\corRefTwo[2]{Corollaries \ref{cor:#1} and \ref{cor:#2}}

\newtheorem{lemma}[theorem]{Lemma}
\nc\lemLabel[1]{\label{lem:#1}}
%% \def\lemmaautorefname{Lemma}
\nc\lemRef[1]{Lemma \ref{lem:#1}}
\nc\lemRefTwo[2]{Lemmas \ref{lem:#1} and \ref{lem:#2}}

\nc\proofEx{\textnormal{(Proof: Exercise.)}}
%% \nc\proofEx{\noindent\textnormal{Proof: Exercise.}}

\definecolor{codesep}{gray}{0.85}
\nc\codesep[1]{
\begin{minipage}[b]{0ex}
\color{codesep}{\rule[1ex]{0.8pt}{#1}}
\end{minipage}}

\usepackage{xcolor}
%% Load late. See http://texblog.net/hyperref/
\usepackage{hyperref}

\definecolor{mylinkcolor}{rgb}{0,0,0.7}
\hypersetup{
  linkcolor  = mylinkcolor,
  citecolor  = mylinkcolor,
  urlcolor   = mylinkcolor,
  colorlinks = true,
}
